<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tooltip</title>
    <script type="text/javascript" src='vue.min.js'></script>
    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/tooltip.css">
    <link rel="stylesheet" href="style/button.css">
    <style type="text/css">
        body {
            padding: 20px;
            transition: background 1s cubic-bezier(.075,.82,.165,1);
        }

        html {
            -webkit-font-smoothing: antialiased;
        }
    </style>
</head>
<body>
<fieldset id='tooltipDemo'>
    <legend>ToolTip</legend>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <tooltip title="这里是一个强大的提示">
        <v-button type='blue' @click="hehe()">移入激活提示</v-button>
    </tooltip>
    <tooltip title="很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示很长的提示">
        <v-button @click="hehe" disabled :material="material">{{material == 'button' ? '真实': '模拟'}}的Btn</v-button>
    </tooltip>

    <v-button type='white' @click="material = material == 'button' ? 'span' : 'button'">点击切换按钮真实与否</v-button>

    {{material}}

</fieldset>

<script type="x/template" id="tooltip">
    <span v-el:slot style="display: inline-block;" @mouseover="tigger" @mouseout="tigger"><slot></slot></span>
    <div v-el:tooltip class="zq-tooltip zq-tooltip-placement-top" transition="zoom" v-show="show" :style="{left: left, top: top, transformOrigin: '50% 51px 0px'}">
        <div class="zq-tooltip-content">
            <div class="zq-tooltip-arrow"></div>
            <div class="zq-tooltip-inner">
                <span>{{title}}</span>
            </div>
        </div>
    </div>
</script>

<script type="text/javascript" src="Js/button.js"></script>
<script type="text/javascript">
    Vue.component('tooltip', {
        template: '#tooltip',
        props: {
            title: String,
        },
        data: function () {
            return {
                show : false,
                left: 0,
                top: 0,
            }
        },
        methods: {
            tigger: function () {
                this.show = !this.show;
                this.$nextTick(function () {
                    this.getoffset();
                });
            },
            getoffset: function () {
                var slot = this.$els.slot,
                    tooltip = this.$els.tooltip;

                console.log(slot.offsetTop, slot.offsetHeight)
                this.left = slot.offsetLeft + parseInt((slot.offsetWidth - tooltip.offsetWidth) / 2) + 'px';
                this.top = slot.offsetTop - slot.offsetHeight - tooltip.offsetHeight + 25 + 'px';
            }
        }
    });

    var check = new Vue({
        el: '#tooltipDemo',
        data: {
            material: 'span',
        },
        methods: {
            hehe : function () {
                console.log(123)
            }
        }
    });

</script>
</body>
</html>